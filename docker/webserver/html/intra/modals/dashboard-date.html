<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8" />
    <title>Gérer les dates</title>
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" />
</head>
<body class="p-4">

<h2 class="mb-4">Ajouter une date</h2>

<div class="mb-3">
    <label for="addDate" class="form-label">Date (AAAA-MM-JJ)</label>
    <input type="date" id="addDate" class="form-control" />
</div>

<button id="addDateBtn" class="btn btn-success mb-4">Ajouter</button>

<hr />

<h2 class="mb-3">Supprimer une date</h2>

<div class="mb-3">
    <label for="deleteDate" class="form-label">Date à supprimer (AAAA-MM-JJ)</label>
    <input type="date" id="deleteDate" class="form-control" />
</div>

<button id="deleteDateBtn" class="btn btn-danger">Supprimer</button>

<script>
    const params = new URLSearchParams(window.location.search);
    const sport = params.get('sport');
    const ligue = params.get('league');


    document.getElementById('addDateBtn').addEventListener('click', () => {
        const heureDebut = '';
        const heureFin = '';
        const nomEquipes = ["Apple", "Banana"];
        const date = document.getElementById('addDate').value;
        if (!date) {
            alert("Veuillez choisir une date à ajouter.");
            return;
        }

        axios.get("http://localhost:8888/WHAT IS THE PATH/"+sport+"/"+ ligue +"/"+date, {})
            .then(function (response) {
                console.log(response.data);
                // if (window.opener) {
                //     window.opener.location.reload();
                //     window.close();
                // }
            })
            .catch(function (error) {
                console.log(error);
            });
    });

    document.getElementById('deleteDateBtn').addEventListener('click', () => {
        const date = document.getElementById('deleteDate').value;

        axios.get("http://localhost:8888/WHAT IS THE PATH/"+sport+"/"+ ligue +"/"+date, {})
            .then(function (response) {
                console.log(response.data);
                // if (window.opener) {
                //     window.opener.location.reload();
                //     window.close();
                // }
            })
            .catch(function (error) {
                console.log(error);
            });
    });
</script>

</body>
</html>
