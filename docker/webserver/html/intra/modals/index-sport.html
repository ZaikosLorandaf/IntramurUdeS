<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>Gérer les sports</title>
  <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body class="p-4">

<h2 class="mb-4">Ajouter un sport</h2>

<div class="mb-3">
  <label for="sportName" class="form-label">Nom du sport</label>
  <input type="text" id="sportName" class="form-control" placeholder="Ex. Basketball">
</div>

<button id="addSportBtn" class="btn btn-success mb-4">Ajouter</button>

<hr>

<h2 class="mb-3">Supprimer un sport</h2>

<div class="mb-3">
  <label for="deleteSportName" class="form-label">Nom du sport à supprimer</label>
  <input type="text" id="deleteSportName" class="form-control" placeholder="Ex. Soccer">
</div>

<button id="deleteSportBtn" class="btn btn-danger">Supprimer</button>

<script>
  document.getElementById('addSportBtn').addEventListener('click', () => {
    const sportName = document.getElementById('sportName').value;

    axios.get("http://localhost:8888/api/sport/addSport/"+sportName, {})
      .then(function (response) {
        if (window.opener) {
          window.opener.location.reload();
          window.close();
        }
      })
      .catch(function (error) {
        console.log(error);
      });
  });

  document.getElementById('deleteSportBtn').addEventListener('click', () => {
    const sportName = document.getElementById('deleteSportName').value;

    axios.get("http://localhost:8888/api/sport/removeSport/"+sportName, {})
      .then(function (response) {
        if (window.opener) {
          window.opener.location.reload();
          window.close();
        }
      })
      .catch(function (error) {
        console.log(error);
      });
  });
</script>

</body>
</html>
